<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evolution of Artificial Intelligence Timeline</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-timeline/7.7.3/vis-timeline-graph2d.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-timeline/7.7.3/vis-timeline-graph2d.min.js"></script>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        #timeline-container {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            background-color: white;
            margin-bottom: 20px;
        }

        .filter-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .filter-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            color: white;
            transition: opacity 0.3s;
        }

        .filter-btn:hover {
            opacity: 0.8;
        }

        .filter-btn.active {
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        #legend {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        .legend-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 3px;
            border: 1px solid #333;
        }

        #event-details {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-top: 20px;
            min-height: 100px;
        }

        #event-details h3 {
            margin-top: 0;
            color: #333;
        }

        .back-link {
            display: block;
            text-align: center;
            margin-top: 20px;
            color: #0066cc;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <main>
        <h1>Evolution of Artificial Intelligence</h1>
        <p class="subtitle">Major Milestones from 1950-2025</p>

        <div class="filter-controls">
            <button class="filter-btn active" style="background-color: #4A90E2;" data-filter="all">All Events</button>
            <button class="filter-btn" style="background-color: #5E81AC;" data-filter="Foundational Research">Foundational Research</button>
            <button class="filter-btn" style="background-color: #BF616A;" data-filter="AI Winter">AI Winter</button>
            <button class="filter-btn" style="background-color: #D08770;" data-filter="Expert Systems Era">Expert Systems Era</button>
            <button class="filter-btn" style="background-color: #A3BE8C;" data-filter="ML Renaissance">ML Renaissance</button>
            <button class="filter-btn" style="background-color: #88C0D0;" data-filter="Deep Learning Era">Deep Learning Era</button>
            <button class="filter-btn" style="background-color: #EBCB8B;" data-filter="Transformer & LLM Era">Transformer & LLM Era</button>
        </div>

        <div id="timeline-container"></div>

        <div id="legend">
            <div class="legend-title">Timeline Eras</div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #5E81AC;"></div>
                <span>Foundational Research (1950-1980)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #BF616A;"></div>
                <span>AI Winter Periods (1969-1979, 1987-1993)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #D08770;"></div>
                <span>Expert Systems Era (1980-2000)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #A3BE8C;"></div>
                <span>ML Renaissance (2000-2012)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #88C0D0;"></div>
                <span>Deep Learning Era (2012-2020)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #EBCB8B;"></div>
                <span>Transformer & LLM Era (2017-present)</span>
            </div>
        </div>

        <div id="event-details">
            <h3>Click on any event to see details</h3>
            <p>Use the filter buttons above to view specific eras, or navigate the timeline by clicking and dragging or scrolling to zoom.</p>
        </div>

        <a href="." class="back-link">Back to Documentation</a>
    </main>

    <script>
        let timeline;
        let allItems = [];
        let timelineData;

        const categoryColors = {
            'Foundational Research': '#5E81AC',
            'AI Winter': '#BF616A',
            'Expert Systems Era': '#D08770',
            'ML Renaissance': '#A3BE8C',
            'Deep Learning Era': '#88C0D0',
            'Transformer & LLM Era': '#EBCB8B'
        };

        // Load timeline data
        fetch('timeline.json')
            .then(response => response.json())
            .then(data => {
                initializeTimeline(data);
            })
            .catch(error => {
                console.error('Error loading timeline data:', error);
                document.getElementById('event-details').innerHTML = '<h3>Error loading timeline</h3><p>Could not load timeline.json</p>';
            });

        function initializeTimeline(data) {
            // Convert JSON events to vis-timeline format
            allItems = data.events.map((event, index) => {
                const year = parseInt(event.start_date.year);
                const month = parseInt(event.start_date.month) || 1;
                const day = parseInt(event.start_date.day) || 1;
                const startDate = new Date(year, month - 1, day);

                const item = {
                    id: `event-${index}`,
                    content: event.text.headline,
                    start: startDate,
                    title: event.notes || event.text.headline,
                    className: event.group.replace(/\s+/g, '-').toLowerCase(),
                    style: `background-color: ${categoryColors[event.group]}; color: white; border-color: #333;`,
                    category: event.group,
                    eventData: event
                };

                // Handle range events
                if (event.end_date) {
                    const endYear = parseInt(event.end_date.year);
                    const endMonth = parseInt(event.end_date.month) || 12;
                    const endDay = parseInt(event.end_date.day) || 31;
                    item.end = new Date(endYear, endMonth - 1, endDay);
                    item.type = 'range';
                }

                return item;
            });

            // Create DataSet
            timelineData = new vis.DataSet(allItems);

            // Timeline options
            const options = {
                width: '100%',
                height: '600px',
                margin: {
                    item: 20,
                    axis: 40
                },
                orientation: 'top',
                zoomMin: 1000 * 60 * 60 * 24 * 365 * 5,  // 5 years
                zoomMax: 1000 * 60 * 60 * 24 * 365 * 100, // 100 years
                stack: true,
                selectable: true,
                tooltip: {
                    followMouse: true
                }
            };

            // Create Timeline
            const container = document.getElementById('timeline-container');
            timeline = new vis.Timeline(container, timelineData, options);

            // Event selection handler
            timeline.on('select', function(properties) {
                if (properties.items.length > 0) {
                    showEventDetails(properties.items[0]);
                }
            });

            // Set up filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const filter = this.dataset.filter;
                    filterCategory(filter);

                    // Update active state
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Fit timeline to show all events
            timeline.fit();
        }

        function filterCategory(category) {
            if (category === 'all') {
                timelineData.clear();
                timelineData.add(allItems);
            } else {
                const filtered = allItems.filter(item => item.category === category);
                timelineData.clear();
                timelineData.add(filtered);
            }
            timeline.fit();
        }

        function showEventDetails(itemId) {
            const item = timelineData.get(itemId);
            if (!item) return;

            const event = item.eventData;
            const detailsDiv = document.getElementById('event-details');

            let dateStr = event.start_date.display_date || event.start_date.year;
            if (event.end_date) {
                const endDateStr = event.end_date.display_date || event.end_date.year;
                dateStr += ` - ${endDateStr}`;
            }

            detailsDiv.innerHTML = `
                <h3>${event.text.headline}</h3>
                <p><strong>Date:</strong> ${dateStr}</p>
                <p><strong>Era:</strong> ${event.group}</p>
                <p><strong>Description:</strong> ${event.text.text}</p>
                ${event.notes ? `<p><strong>Historical Context:</strong> ${event.notes}</p>` : ''}
            `;
        }
    </script>
</body>
</html>
